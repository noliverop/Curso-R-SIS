---
title: "Curso Capacitaci√≥n en R "
subtitle: "Sesi√≥n 1"  
author: 
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    seal: false
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: False
---

class: center, middle

.linea-superior[]
.linea-inferior[]


<img src="imagenes/logo_super_portada.png" width="180" />


# Curso Capacitaci√≥n en R 

## Sesi√≥n 1 

## Reglas del juego y nociones iniciales de R y R Studio

### Mayo 2025

```{r setup, include=FALSE} 
options(htmltools.dir.version = TRUE)
knitr::opts_chunk$set(message = FALSE) 
```


```{r xaringan-themer, include=FALSE, warning=FALSE}
library(xaringanthemer) # gfonts
xaringanExtra::use_clipboard()
xaringanExtra::use_editable(id = "xaringanExtra-editable-demo-1", expires = 1)
```
---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%



--
<br/>
Bienvenidos a la primera sesi√≥n del curso **Introducci√≥n a R**. üòÑ

--

Mi nombre es **Nicol√°s Olivero** y ser√© su tutor en este curso.

--

Por favor, cualquier duda, sugerencia, comentario y/o cr√≠tica enviar un correo a **nolivero@superdesalud.gob.cl** o hablarme por Teams.

--

.medium-par[Este **ambicioso** curso busca:]

--

.medium-par[*Entregar las nociones b√°sicas en materia de procesos de .red[carga], .red[limpieza], .red[manipulaci√≥n] y .red[visualizaci√≥n] de bases de datos mediante la utilizaci√≥n de las librer√≠as m√°s relevantes como **dplyr**, **ggplot2** y **R Markdown.** *] 

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Reglas del juego

--

Car√°cteristicas del curso:

--

- 9 sesiones de 1 hora y media los d√≠as jueves de 11 a 12:30 horas.

--

- Las clases utilizar√°n una presentaci√≥n y si es que realizamos ejercicios se compartir√° el script correspondiente.

--

- Al final de todas las clases (con excepci√≥n de la primera) se entregar√° una tarea que debe ser entregar antes de la siguiente clase. 
--

- Se puede faltar un m√°ximo de 1 clase sin justificaci√≥n y 2 con justificaci√≥n (correo con copia a jefatura). Tres inasistencias significar√° reprobaci√≥n.

--

- La principal ventaja de tomar este curso es que tiene como objetivo que cada uno de ustedes sea capaz de **automatizar** algun proceso asociado en su trabajo del d√≠a a d√≠a. A esto lo llamaremos **Proyecto en R**.

--

- Dado lo anterior, para poder aprobar el curso se deben cumplir **tres** condiciones: cumplir la asistencia requerida, aprobar en promedio las tareas entregadas y realizar el proyecto en R.

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Proyecto en R

--

El proyecto en R tiene dos objetivos:

--

1. *Forzar* a que mantengan el uso constante de R para la resoluci√≥n de tareas.

--

2. Demostrar en la pr√°ctica c√≥mo la utilizaci√≥n de R permite generar procesos m√°s eficientes de trabajo.

--

Tendr√°n desde hoy hasta la pr√≥xima semana para definir un proyecto donde se deben especificar las siguientes caracter√≠sticas:

--

- Breve descripci√≥n de la tarea y c√≥mo actualmente se realiza.

--

- Cantidad de tiempo que requiere esta tarea.

--

- Propuesta de soluci√≥n (a grandes rasgos).

--

- Luego de generar la propuesta de soluci√≥n (al final del curso) calcular la ganancia en productividad.

--

.medium-par[**Consejo:** A pesar que este es un curso introductorio... ¬°sean **ambiciosos** con su proyecto! üòé]


---

background-image: url("imagenes/background.png")

class: center, middle

.linea-superior[]
.linea-inferior[]


.big-par[¬øDudas hasta el momento?]

--

.big-par[¬øQu√© saben de R? ¬øPor qu√© lo necesitan? ü§ì]


---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# ¬øQu√© es R?

--

**R** es un lenguaje de programaci√≥n con enfoque al an√°lisis estad√≠stico desarrollado por investigadores de la Universidad de Auckland en 1993.

--

## ¬øPor qu√© (utilizar) R?

--

- Es gratuito, de c√≥digo abierto y est√° disponible en todas las plataformas principales. Por lo tanto, si realiza su an√°lisis en R, cualquiera puede replicarlo f√°cilmente, sin importar d√≥nde viva o cu√°nto gane.

--

- **R** tiene una comunidad diversa y acogedora tanto online como reuniones presenciales.

--

- Existe una cantidad **enorme** de paquetes para modelado estad√≠stico, aprendizaje de m√°quinas, visualizaci√≥n, e importanci√≥n y manipulaci√≥n de datos. Cualquier modelo o gr√°fico que se busque hacer, **seguramente** alguien ya ha tratado de hacerlo y se puede aprender de ellos.

--

- Potentes herramientas para la comunicaci√≥n y difusi√≥n de resultados como **R Markdown** y **Shiny**.

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

## ¬øPor qu√© (utilizar) R? (continuaci√≥n)

- Herramientas de vanguardia donde investigadores de diversos √°mbitos pueden publicar paquetes en R acompa√±ando sus art√≠culos y papers.

--

- **R** cuenta con un IDE (*integrated development environment*) construido a su medida (R Studio), facilitando su uso y manejo.

--

En mi visi√≥n personal:

--

- **R** es un lenguaje que cumple con todos los requisitos que necesita un analista para manejar profundamente datos e informaci√≥n.

--

- Posee una curva de aprendizaje muy abordable. No se necesita ser ni inform√°tico ni tener experiencia previa en programaci√≥n para aprenderlo.

--

- Las herramientas de visualizaci√≥n y de difusi√≥n de informaci√≥n en R son de **muy alto nivel**.

--

Pero... **mejor mostrarles algunos casos para que me crean** üòá

---
background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Ejemplos de visualizaci√≥n
<br/>

--

.pull-left[<img src="imagenes/ej_sepal.png" width="350"/>]

--

.pull-right[<img src="imagenes/viridis.png" height="300" width="400"/>]

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# M√°s visualizaci√≥n...
<br/>

--

.pull-left[<img src="imagenes/ej_japon.gif" width="350"/>]

--

.pull-right[<img src="imagenes/ej_gapminder.gif" height="300" width="400"/>]

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Maaaaa√°s visualizaci√≥n...
<br/>

--


```{r plotly, echo=FALSE, fig.align='center'}
library(ggplot2)
library(dplyr)
library(plotly)
library(viridis)
library(hrbrthemes)

# The dataset is provided in the gapminder library
library(gapminder)
data <- gapminder %>% filter(year=="2007") %>% dplyr::select(-year)

# Interactive version
p <- data %>%
  mutate(gdpPercap=round(gdpPercap,0)) %>%
  mutate(pop=round(pop/1000000,2)) %>%
  mutate(lifeExp=round(lifeExp,1)) %>%
  
  # Reorder countries to having big bubbles on top
  arrange(desc(pop)) %>%
  mutate(country = factor(country, country)) %>%
  
  # prepare text for tooltip
  mutate(text = paste("Country: ", country, "\nPopulation (M): ", pop, "\nLife Expectancy: ", lifeExp, "\nGdp per capita: ", gdpPercap, sep="")) %>%
  
  # Classic ggplot
  ggplot( aes(x=gdpPercap, y=lifeExp, size = pop, color = continent, text=text)) +
  geom_point(alpha=0.7) +
  scale_size(range = c(1.4, 19), name="Population (M)") +
  scale_color_viridis(discrete=TRUE, guide=FALSE) +
  theme_ipsum() +
  theme(legend.position="none")

# turn ggplot interactive with plotly
pp <- ggplotly(p, tooltip="text")

```

.center[`r pp`]

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Reporter√≠a y difusi√≥n
<br/>

--

.medium-par[Dashboards:]

--

- <https://pkgs.rstudio.com/flexdashboard/articles/examples.html>

--

.medium-par[Boletines de difusi√≥n oficiales:]

--

- <https://www.ine.gob.cl/docs/default-source/√≠ndice-de-precios-al-consumidor/boletines/espa√±ol/2025/boletin-√≠ndice-de-precios-al-consumidor-enero-2025.pdf?sfvrsn=47290d68_4>

- <https://www.ine.gob.cl/docs/default-source/ocupacion-y-desocupacion/boletines/2025/nacional/ene-nacional-318.pdf?sfvrsn=51dfaa0f_5>

---
background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Herramientas de productividad

--

.medium-par[OCR:]

--

- <https://cran.r-project.org/web/packages/tesseract/vignettes/intro.html#Read_from_PDF_files>

--

.medium-par[Otros:]

--

- Clasificaci√≥n automatizada

--

- Script de limpieza y/o uni√≥n de diferentes bases

--

- Generaci√≥n automatizada de presentaciones
--
 (*esta presentaci√≥n est√° hecha en R* üò∏)

--

- Otros



---
background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

class: center, middle

.center[.big-par[**Importante:** R =/= R Studio]]

---

class: center, middle

.linea-superior[]
.linea-inferior[]


.big-par[Abramos RStudio]

<img src="https://media0.giphy.com/media/VbnUQpnihPSIgIXuZv/giphy.webp?cid=ecf05e4764sdgx6wh23uc6xzgr9hh8wm3mjv5c6lr2bqyejp&rid=giphy.webp" width="300" />

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Interfaz R Studio

.center[<img src="imagenes/rstudio.png" width="1000" />]

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Formas de interactuar en R 
<br/>
--

.medium-par[1- **Consola**]

--

<br/> .medium-par[2-  **Script**]

--

¬øSe les ocurren razones para utilizar .pur[scripts] en vez de la consola?

--

<br/> .medium-par-red[Orden y reproducibilidad]

--

<br/> Para ejecutar c√≥digo en *scripts* se puede utilizar el *shortcut* .pur[Ctrl + Enter].

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Primera interacci√≥n: R como calculadora

```{r }
10 + 7 # adici√≥n

```
--
```{r }
8 * 7 # multiplicaci√≥n

```
--
```{r }
25 / 5 # divisi√≥n

```
--
```{r }
6 + 5 * 4 + 3     # sin utilizar par√©ntesis
(6 + 5) * (4 + 3) # utilizando par√©ntesis
```

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Operadores aritm√©ticos 1

```{r }
3 + 4      # adici√≥n
5 - 2      # sustracci√≥n
7 * 7      # multiplicaci√≥n
56 / 8     # divisi√≥n

```

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Operadores aritm√©ticos 2

```{r }

4^3        # Exponenciaci√≥n 1
4**3       # Exponenciaci√≥n 2
56%%5      # ¬øQu√© hace?
10%/%4     # ¬øQu√© hace?

```

---
background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%


# Operadores de comparaci√≥n 1
<br/><br/>
```{r }

3 == 3        # igualdad
3 != 3        # no igualdad
10 > 14       # mayor a

```

---
background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Operadores de comparaci√≥n 2
<br/><br/>
```{r }

10 < 14       # menor a
20 >= 19      # mayor o igual a
19 <= 19      # menor o igual a
```

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Operadores l√≥gicos

```{r }
TRUE | TRUE       # O
TRUE | FALSE      # O
TRUE & TRUE       # Y
TRUE & FALSE      # Y
!FALSE             # NO
```

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Clases b√°sicas de datos 

1. `numeric`: cualquier n√∫mero real, ie. .pur[1], .pur[3], .pur[4.5], $\pi$, etc.<br/><br/>

--
2. `character`: cadena de caracteres o caracteres individuales, ie. .pur["Hola"], .pur["HoL"], .pur["H"], .pur["Hola buenos d√≠as"], .pur["78"] etc.<br/><br/>

--
3. `integer`: cualquier n√∫mero **entero**, ie. .pur[1], .pur[3], .pur[100], .pur[5420], etc.<br/><br/>

--
4. `factor`: variables categ√≥ricas/cualitativas. Veremos su uso en pr√≥ximas sesiones.<br/><br/>

--
5. `logical`: variables booleanas/l√≥gicas. Pueden tomar los valores .pur[TRUE] o .pur[FALSE].<br/><br/>

--
6. `Date / POSIXct`: variables que representan tiempo y fechas de calendario. Pueden tomar los valores como .pur["2025-05-07"] o .pur["2025-05-04 16:11:54 -04"].<br/><br/>

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Conociendo la primera funci√≥n: class()

--

La funci√≥n `class()` recibe un tipo de dato y entrega la clase que lo describe. Por ejemplo:

--

```{r }
class(2)
```

--

```{r }
class("Lucas")
```

--

Las funciones incluidas en R tanto como las funciones incluidas en paquetes del repositorio CRAN incluyen documentaci√≥n asociada para entender como funcionan.

--

La forma de acceder a esta documentaci√≥n es mediante el uso del s√≠mbolo `?` antes de la funci√≥n o utilizando la funci√≥n `help()`.

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Conociendo la primera funci√≥n: class()

--

```{r eval=FALSE}
?class()
```

--

```{r eval=FALSE}
help("class")
```

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# IMPORTANTE: operador de asignaci√≥n

--

Todo en .pur[R] es un .pur[objeto] y estos pueden ser pr√°cticamente cualquier cosa, desde un n√∫mero, letras, palabras, o incluso bases de datos enteras, gr√°ficos complejos, summary/resumen/output de an√°lisis estad√≠stico, etc.

--

El operador de asignaci√≥n est√° compuesto por el s√≠mbolo *menor a* `<` y un gui√≥n `-`, es decir, `<-`.

--

```{r }
a <- 4
```

--

Asignando variables a estos objetos podemos realizar las operaciones vistas anteriormente.

--

```{r }
b <- 5

c <- a + b

c

```

--

¬øQu√© est√° ocurriendo en la parte de ambiente de R Studio cuando asignan objetos?
---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Juguemos un poco con asignaciones


.pull-left[
### üßê; Probar

.can-edit.key-likes[

]
]


.pull-right[
### üòØ; ¬øQu√© entrega?

.can-edit.key-dislikes[

]
]

---
background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Librer√≠as y repositorios

--

Actualmente existen m√°s de 22406 paquetes disponibles en el repositorio de paquetes .pur[CRAN] creado por usuarios individuales, instituciones, investigadores, etc.

--

En el transcurso de la capacitaci√≥n utilizaremos distintos paquetes o librer√≠as que nos aportar√°n con una mayor cantidad y calidad de funciones y herramientas que el .pur[R base] no posee.

--

Para instalar una determinada librer√≠a se utiliza la funci√≥n `install.packages()` de la siguiente manera:

--

```{r eval=FALSE}
install.packages("tidyverse") # para instalar se deben utilizar las comillas!
```

--

Si todo funciona bien, veremos la librer√≠a en la pesta√±a .pur[packages] en la zona de utilidades de R Studio. ¬øLa encuentran?

--

Pero... luego de instalar, ¬øesto quiere decir que ya podemos utilizar las funcionalidades de la librer√≠a? 
--
.red[**NO**]. 
--
Para utilizar o cargar una librer√≠a se debe correr el comando o funci√≥n `library()` de la siguiente manera:

```{r eval=FALSE}
library(tidyverse) # para cargar una librer√≠a ya no necesitamos las comillas!
```

---

background-image: url("imagenes/background.png")
background-size: contain;
background-position: 50% 0%

# Consejos finales

--

- No se asusten si al correr alg√∫n c√≥digo ven muchas cosas .red[rojas]. ¬°Equivocarse es lo mejor que les puede pasar para as√≠ aprender y saber efectivamente lo que sucede dentro del programa!

--

- No ocupen Chatgpt u otro software de inteligencia artificial como primera opci√≥n. Es mejor googlear, buscar y leer la documentaci√≥n y a otras personas antes que directamente preguntarle a una IA. Las IA's a√∫n se equivocan mucho y puede que les entreguen un c√≥digo que funcione, pero puede que no sea necesariamente el m√°s eficiente o utilice funciones engorrosas y equ√≠vocas.

--

- Traten de al menos 10 minutos todos los d√≠as abrir un archivo en R Studio. Piensen que les gustar√≠a hacer con √©l o qu√© requieren procesar o analizar. Traten de hacerlo, equiv√≥quense y durante el curso vamos solucionando esas dudas.

--

- ¬°P√°senlo bien y disfruten el curso! La idea es que aprendan **R**, lo utilicen y puedan hacer m√°s eficiente alg√∫n proceso de su d√≠a a d√≠a y as√≠ tener m√°s tiempo para dedicarle a otras cosas.
--
üíª
--
üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ 
--
‚öΩüò¥
--
üçª
