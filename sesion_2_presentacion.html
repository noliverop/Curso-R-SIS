<!DOCTYPE html>
<html lang="" xml:lang="">
  <head>
    <title>Curso Capacitación en R</title>
    <meta charset="utf-8" />
    <meta name="author" content="" />
    <meta name="date" content="2025-05-19" />
    <script src="sesion_2_presentacion_files/header-attrs-2.29/header-attrs.js"></script>
    <script src="sesion_2_presentacion_files/clipboard-2.0.6/clipboard.min.js"></script>
    <link href="sesion_2_presentacion_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.css" rel="stylesheet" />
    <script src="sesion_2_presentacion_files/xaringanExtra-clipboard-0.2.6/xaringanExtra-clipboard.js"></script>
    <script>window.xaringanExtraClipboard(null, {"button":"Copy Code","success":"Copied!","error":"Press Ctrl+C to Copy"})</script>
    <script type="application/json" id="xaringanExtra-editable-docid">{"id":"xaringanExtra-editable-demo-1","expires":1}</script>
    <script src="sesion_2_presentacion_files/himalaya-1.1.0/himalaya.js"></script>
    <script src="sesion_2_presentacion_files/js-cookie-3.0.0/js.cookie.js"></script>
    <link href="sesion_2_presentacion_files/editable-0.2.6/editable.css" rel="stylesheet" />
    <script src="sesion_2_presentacion_files/editable-0.2.6/editable.js"></script>
    <link rel="stylesheet" href="xaringan-themer.css" type="text/css" />
  </head>
  <body>
    <textarea id="source">


class: center, middle

.linea-superior[]
.linea-inferior[]


&lt;img src="imagenes/logo_super_portada.png" width="180" /&gt;


# Curso Capacitación en R 

## Sesión 2 

## Más estructuras de datos e introducción a bases de datos

### Mayo 2025





---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Repaso sesión 1

--

- ¿Es lo mismo R y R Studio?

--

- ¿Qué tipos de datos podemos utilizar en R?

--

- ¿Para qué sirve la función `class()`?

--

- ¿Cómo accedo a la documentación sobre una determinada función?

--

- ¿Cuál es la utilidad de utilizar scripts en vez de la consola directamente?

--

- ¿Cual es el operador de asignación en R?


---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Mini ejercicios

--

La fuerza asociada a un objeto en física se calcula mediante la siguiente fórmula: `\(F = m*a\)` donde `\(F\)` es la fuerza ejercida, `\(m\)` es la masa del objeto y `\(a\)` corresponde a la aceleración del objeto.

--

1. Asigne a un objeto el nombre `masa` el valor `\(12\)` y a un objeto llamado `acelaracion` el valor `\(3\)`.

--

2. Asigne a un objeto llamado `fuerza` el valor de la multiplicación de los objetos masa y aceleración. Imprima el objeto.

--

3. Modifique el objeto `aceleracion` para que tenga valor `\(-4\)`, es decir, ahora acelera hacia el sentido contrario. Imprima el resultado de la fuerza.

--

4. Su compañero o compañera le dice que en vez de escribir `fuerza`, escribió un objeto de la forma `fuerza del objeto` y R le tira un error. Expliqué el error.

--

5. A otro compañero/a le salió bien el ejercicio pero escribió el objeto aceleración como `Aceleración_Del_Objeto`. Explique los errores.


---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores

--

- Los vectores son la estructura de datos más común en el lenguaje R. 

--

- En palabras sencillas son meramente una lista de valores, ya sean números o caracteres.

--

- Los vectores se crean con la función `c()` que significa combinar valores en un vector.



``` r
frutas &lt;- c("uva", "pera", "manzana")
frutas
```

```
## [1] "uva"     "pera"    "manzana"
```

--


``` r
cantidad_frutas &lt;- c(3, 1, 4)
cantidad_frutas
```

```
## [1] 3 1 4
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores

--

- ¿Qué sucede si mezclamos números con caracteres en un vector?


``` r
mix &lt;- c("Paula", 1, "Roberto")
mix
```

```
## [1] "Paula"   "1"       "Roberto"
```

--

- Con los vectores al igual que con tipos de datos más básicos es importante saber su clase.


``` r
class(mix)
```

```
## [1] "character"
```

--

- Otra función útil es la función `str()`,


``` r
str(mix)
```

```
##  chr [1:3] "Paula" "1" "Roberto"
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores

--

- Los vectores también permiten operaciones aritméticas. Por ejemplo:

--


``` r
cantidad_frutas_para_1_persona &lt;- c(3, 1, 4)
cantidad_frutas_para_1_persona
```

```
## [1] 3 1 4
```

``` r
cantidad_frutas_para_2_persona &lt;- cantidad_frutas_para_1_persona*2
cantidad_frutas_para_2_persona
```

```
## [1] 6 2 8
```
--

``` r
cantidad_frutas_jorge &lt;- c(5, 1, 4)
cantidad_frutas_pilar &lt;- c(6, 2, 0)

cantidad_frutas_jorge_y_pilar &lt;- cantidad_frutas_jorge + cantidad_frutas_pilar
cantidad_frutas_jorge_y_pilar
```

```
## [1] 11  3  4
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores


``` r
cantidad_frutas_jorge &lt;- c(5, 1, 4)
cantidad_frutas_pilar &lt;- c(6, 2, 0, 5)

cantidad_frutas_jorge_y_pilar &lt;- cantidad_frutas_jorge + cantidad_frutas_pilar
```

```
## Warning in cantidad_frutas_jorge + cantidad_frutas_pilar: longer object length
## is not a multiple of shorter object length
```

``` r
cantidad_frutas_jorge_y_pilar
```

```
## [1] 11  3  4 10
```
--
**Saber el largo de un vector es muy importante para que no sucedan situaciones como la anterior.**
--

``` r
length(cantidad_frutas_jorge)
```

```
## [1] 3
```

``` r
length(cantidad_frutas_pilar)
```

```
## [1] 4
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores

--
**Mini ejercicio:** como podriamos verificar que el largo de los dos vectores anteriores es el mismo? *Recuerde los operadores lógicos*.

--


``` r
length(cantidad_frutas_jorge) == length(cantidad_frutas_pilar)
```

```
## [1] FALSE
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores

--

Dado que la cantidad de frutas de Pilar es mayor, agreguemos un número más al vector de Jorge. Primero recordemos que:


``` r
cantidad_frutas_jorge &lt;- c(5, 1, 4)
cantidad_frutas_jorge
```

```
## [1] 5 1 4
```

--


``` r
cantidad_frutas_jorge &lt;- c(cantidad_frutas_jorge, 2)
cantidad_frutas_jorge
```

```
## [1] 5 1 4 2
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Vectores

También, si se requiere, se puede agregar un valor al comienzo de la siguiente forma:


``` r
cantidad_frutas_jorge &lt;- c(5, 1, 4)
cantidad_frutas_jorge
```

```
## [1] 5 1 4
```

``` r
cantidad_frutas_jorge &lt;- c(2, cantidad_frutas_jorge)
cantidad_frutas_jorge
```

```
## [1] 2 5 1 4
```

--

Prácticamente **todo** es un vector...

--


``` r
numero &lt;- 1
is.vector(numero)
```

```
## [1] TRUE
```

---
background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Generacion de vectores

--
1. Utilizando la función `c()`.

--

2. Utilizando el operador `:`.


``` r
del_1_20 &lt;- 1:20
del_1_20
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
```
--

3. Utilizando la función `seq()`.


``` r
del_1_20_seq &lt;- seq(from=1, to=20, by=1)
del_1_20_seq
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
```

``` r
del_1_20_seq &lt;- seq(1,20,1)
del_1_20_seq
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20
```

---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Indexación

--

¿Han notado que al imprimir (o *printear*) un vector aparecen números en `[ ]`?

--


``` r
del_1_50 &lt;- 1:50
del_1_50
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
```
--

En R y al igual que en la mayoría de lenguajes existe el proceso de **indexación** que permite aislar elementos de un vector u otras estructuras de datos semejantes. Esto sirve ya sea para inspecciones, modificar, etc.

--


``` r
del_1_50[25]
```

```
## [1] 25
```

--

**Importante:** La indexación en R comienza en `\(1\)`, algo **NO** trivial.

---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Indexación


``` r
jugadores_tenis_favoritos &lt;- c("Roger Federer", "Rafael Nadal", "Fernando González", "Marcelo Ríos", "Jannik Sinner",
                               "Carlos Alcaraz")
```

--

Formas de indexación

--


``` r
jugadores_tenis_favoritos[3]
```

```
## [1] "Fernando González"
```

--


``` r
jugadores_chilenos &lt;- jugadores_tenis_favoritos[c(3,4)]
jugadores_chilenos
```

```
## [1] "Fernando González" "Marcelo Ríos"
```
--


``` r
jugadores_chilenos &lt;- jugadores_tenis_favoritos[-c(1,2,5,6)]
jugadores_chilenos
```

```
## [1] "Fernando González" "Marcelo Ríos"
```

---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Indexación

--


``` r
jugadores_tenis_favoritos == "Carlos Alcaraz"
```

```
## [1] FALSE FALSE FALSE FALSE FALSE  TRUE
```
--


``` r
which(jugadores_tenis_favoritos == "Carlos Alcaraz")
```

```
## [1] 6
```
--


``` r
jugadores_tenis_favoritos[which(jugadores_tenis_favoritos == "Carlos Alcaraz")]
```

```
## [1] "Carlos Alcaraz"
```

---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Indexación
Conozcamos el operador `%in%`.
--

``` r
jugadores_tenis_favoritos &lt;- c("Roger Federer", "Rafael Nadal", "Fernando González", "Marcelo Ríos", "Jannik Sinner",
                               "Carlos Alcaraz")
jugadores_tenis_espanioles &lt;- c("Rafael Nadal", "Carlos Alcaraz", "Fernando Verdasco")
```

¿Cuántos tenistas españoles son parte de mis jugadores favoritos?

--


``` r
jugadores_tenis_espanioles %in% jugadores_tenis_favoritos
```

```
## [1]  TRUE  TRUE FALSE
```

--


``` r
jugadores_tenis_espanioles[jugadores_tenis_espanioles %in% jugadores_tenis_favoritos]
```

```
## [1] "Rafael Nadal"   "Carlos Alcaraz"
```

--

¿Cuántos de mis tenistas favoritos son de nacionalidad española?

--


``` r
jugadores_tenis_favoritos[jugadores_tenis_favoritos %in% jugadores_tenis_espanioles]
```

```
## [1] "Rafael Nadal"   "Carlos Alcaraz"
```

---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Indexación

--


``` r
del_1_50 &lt;- 1:50
del_1_50
```

```
##  [1]  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25
## [26] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
```

--

Crear vector en base al objeto `del_1_50` que incluya solo aquellos números mayores a 25.

--


``` r
del_26_50 &lt;- del_1_50[del_1_50 &gt; 25]
del_26_50
```

```
##  [1] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50
```
--

Crear vector en base al objeto `del_1_50` que incluya solo aquellos números mayores a 25 **y** menores o iguales a 40.

--


``` r
del_26_40 &lt;- del_1_50[del_1_50 &gt; 25 &amp; del_1_50 &lt;= 40]
del_26_40
```

```
##  [1] 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40
```
---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Indexación

**Mini ejercicio 1:** genere un vector en base al objeto `del_1_50` que incluya sólo los números que son **pares**. Primero en responder tiene 5 décimas a sumarse a cualquier tarea. **Hint:** Recuerde la función `seq()` para generar vectores. 

--


``` r
vector_numeros_pares &lt;- del_1_50[seq(2, length(del_1_50), 2)]
vector_numeros_pares
```

```
##  [1]  2  4  6  8 10 12 14 16 18 20 22 24 26 28 30 32 34 36 38 40 42 44 46 48 50
```
--


**Mini ejercicio 2:** genere un vector en base al objeto `del_1_50` que incluya sólo los números que son **impares** y también incluya el número 2.


``` r
vector_numeros_impares_mas_dos &lt;- del_1_50[c(seq(1, length(del_1_50), 2), 2)]
vector_numeros_impares_mas_dos
```

```
##  [1]  1  3  5  7  9 11 13 15 17 19 21 23 25 27 29 31 33 35 37 39 41 43 45 47 49
## [26]  2
```

---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Librerías y repositorios

--

Actualmente existen más de `\(22406\)` paquetes disponibles en el repositorio de paquetes .pur[CRAN] creado por usuarios individuales, instituciones, investigadores, etc.

--

En el transcurso de la capacitación utilizaremos distintos paquetes o librerías que nos aportarán con una mayor cantidad y calidad de funciones y herramientas que el .pur[R base] no posee.

--

Para instalar una determinada librería se utiliza la función `install.packages()` de la siguiente manera:

--


``` r
install.packages("guaguas") # para instalar se deben utilizar las comillas!
```

--

Si todo funciona bien, veremos la librería en la pestaña .pur[packages] en la zona de utilidades de R Studio. ¿La encuentran?

--

Pero... luego de instalar, ¿esto quiere decir que ya podemos utilizar las funcionalidades de la librería? 
--
.red[**NO**]. 
--
Para utilizar o cargar una librería se debe correr el comando o función `library()` de la siguiente manera:


``` r
library(guaguas) # para cargar una librería ya no necesitamos las comillas!
```


---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Introducción a bases de datos

--

En honor al trabajo nacional, exploraremos una base de datos creada por Riva Quiroga, lingüista chilena y activa participante de LatinR y R-Ladies. Este paquete se llama `guaguas` ya instalado al principio de la sesión. 

--

Dado que ya instalamos el paquete, ahora **solo debemos cargarlo**. 


``` r
library("guaguas")
```

--

Este paquete consiste en proveer *Datos sobre nombres de guaguas (bebés) registrados en Chile entre 1920 y 2021, según el Servicio de Registro Civil e Identificación. Incluye solo los que fueron inscritos como primer nombre. Este dataset permite explorar tendencias en los nombres registrados durante el último siglo y puede utilizarse como fuente de ejemplos para aprender/enseñar a trabajar con datos.*


---

background-image: url("imagenes/bg.png")
background-size: contain;
background-position: 50% 0%

# Introducción a bases de datos

Exploremos la base `guaguas` con las siguientes funciones:

--

- `view()`

--

- `str()`

--

- `class`

--

- `dim()`

--

- Operador `$`
    </textarea>
<style data-target="print-only">@media screen {.remark-slide-container{display:block;}.remark-slide-scaler{box-shadow:none;}}</style>
<script src="https://remarkjs.com/downloads/remark-latest.min.js"></script>
<script>var slideshow = remark.create({
  "highlightStyle": "github",
  "highlightLines": true,
  "countIncrementalSlides": false
});
if (window.HTMLWidgets) slideshow.on('afterShowSlide', function (slide) {
  window.dispatchEvent(new Event('resize'));
});
(function(d) {
  var s = d.createElement("style"), r = d.querySelector(".remark-slide-scaler");
  if (!r) return;
  s.type = "text/css"; s.innerHTML = "@page {size: " + r.style.width + " " + r.style.height +"; }";
  d.head.appendChild(s);
})(document);

(function(d) {
  var el = d.getElementsByClassName("remark-slides-area");
  if (!el) return;
  var slide, slides = slideshow.getSlides(), els = el[0].children;
  for (var i = 1; i < slides.length; i++) {
    slide = slides[i];
    if (slide.properties.continued === "true" || slide.properties.count === "false") {
      els[i - 1].className += ' has-continuation';
    }
  }
  var s = d.createElement("style");
  s.type = "text/css"; s.innerHTML = "@media print { .has-continuation { display: none; } }";
  d.head.appendChild(s);
})(document);
// delete the temporary CSS (for displaying all slides initially) when the user
// starts to view slides
(function() {
  var deleted = false;
  slideshow.on('beforeShowSlide', function(slide) {
    if (deleted) return;
    var sheets = document.styleSheets, node;
    for (var i = 0; i < sheets.length; i++) {
      node = sheets[i].ownerNode;
      if (node.dataset["target"] !== "print-only") continue;
      node.parentNode.removeChild(node);
    }
    deleted = true;
  });
})();
// add `data-at-shortcutkeys` attribute to <body> to resolve conflicts with JAWS
// screen reader (see PR #262)
(function(d) {
  let res = {};
  d.querySelectorAll('.remark-help-content table tr').forEach(tr => {
    const t = tr.querySelector('td:nth-child(2)').innerText;
    tr.querySelectorAll('td:first-child .key').forEach(key => {
      const k = key.innerText;
      if (/^[a-z]$/.test(k)) res[k] = t;  // must be a single letter (key)
    });
  });
  d.body.setAttribute('data-at-shortcutkeys', JSON.stringify(res));
})(document);
(function() {
  "use strict"
  // Replace <script> tags in slides area to make them executable
  var scripts = document.querySelectorAll(
    '.remark-slides-area .remark-slide-container script'
  );
  if (!scripts.length) return;
  for (var i = 0; i < scripts.length; i++) {
    var s = document.createElement('script');
    var code = document.createTextNode(scripts[i].textContent);
    s.appendChild(code);
    var scriptAttrs = scripts[i].attributes;
    for (var j = 0; j < scriptAttrs.length; j++) {
      s.setAttribute(scriptAttrs[j].name, scriptAttrs[j].value);
    }
    scripts[i].parentElement.replaceChild(s, scripts[i]);
  }
})();
(function() {
  var links = document.getElementsByTagName('a');
  for (var i = 0; i < links.length; i++) {
    if (/^(https?:)?\/\//.test(links[i].getAttribute('href'))) {
      links[i].target = '_blank';
    }
  }
})();
// adds .remark-code-has-line-highlighted class to <pre> parent elements
// of code chunks containing highlighted lines with class .remark-code-line-highlighted
(function(d) {
  const hlines = d.querySelectorAll('.remark-code-line-highlighted');
  const preParents = [];
  const findPreParent = function(line, p = 0) {
    if (p > 1) return null; // traverse up no further than grandparent
    const el = line.parentElement;
    return el.tagName === "PRE" ? el : findPreParent(el, ++p);
  };

  for (let line of hlines) {
    let pre = findPreParent(line);
    if (pre && !preParents.includes(pre)) preParents.push(pre);
  }
  preParents.forEach(p => p.classList.add("remark-code-has-line-highlighted"));
})(document);</script>

<script>
slideshow._releaseMath = function(el) {
  var i, text, code, codes = el.getElementsByTagName('code');
  for (i = 0; i < codes.length;) {
    code = codes[i];
    if (code.parentNode.tagName !== 'PRE' && code.childElementCount === 0) {
      text = code.textContent;
      if (/^\\\((.|\s)+\\\)$/.test(text) || /^\\\[(.|\s)+\\\]$/.test(text) ||
          /^\$\$(.|\s)+\$\$$/.test(text) ||
          /^\\begin\{([^}]+)\}(.|\s)+\\end\{[^}]+\}$/.test(text)) {
        code.outerHTML = code.innerHTML;  // remove <code></code>
        continue;
      }
    }
    i++;
  }
};
slideshow._releaseMath(document);
</script>
<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
(function () {
  var script = document.createElement('script');
  script.type = 'text/javascript';
  script.src  = 'https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML';
  if (location.protocol !== 'file:' && /^https?:/.test(script.src))
    script.src  = script.src.replace(/^https?:/, '');
  document.getElementsByTagName('head')[0].appendChild(script);
})();
</script>
  </body>
</html>
